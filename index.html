<!DOCTYPE html>
<html lang="en">

<head>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VueTask</title>
    <link rel="icon" type="image/x-icon" href="/Vue.js_Logo_2.svg">
    <link href="styles.css" rel="stylesheet">
    <script src="scripts.js" defer></script>
</head>

<body>
    <div id="app" v-cloak>
        <div class="main">
            <tasklist />
        </div>
    </div>
    <script>
        let app = Vue.createApp({})
        app.component('tasklist', {
            template: `
            <div class='container'>
                <div class="title">
                    <h1>Todo</h1>
                </div>
                <ul>
            <li 
            v-for = "(task,i) in tasks"
            :key = "i"
            >   
                <p class='taskname'>{{task.name}}</p>
                <button @click="moveTask(i,0)" class="change">Move</button>
                <button @click="deleteTask(i,0)" class="remove">Remove</button>
            </li>
            </ul> 


            <input type="text"><button @click="show()">Show</button>



            </div>
            <div class='container'>
                <div class="title">
                    <h1>Complited</h1>
                </div>
                <ul>
            <li 
            v-for = "(task,i) in complitedtasks"
            :key = "i"
            >
                <p class='taskname'>{{task.name}}</p>
                <button @click="moveTask(i,1)" class="change">Move</button>
                <button @click="deleteTask(i,1)" class="remove">Remove</button>
            </li>
            </ul> 
            </div>

            `,
            methods: {
                show: function() {
                    console.log(this.tasks)
                    console.log(this.complitedtasks)

                },
                moveTask: function(index, mode) {
                    if (mode == 0) {
                        this.complitedtasks.push(this.tasks[index]);
                        this.tasks.splice(index, 1);
                    } else {
                        this.tasks.push(this.complitedtasks[index]);
                        this.complitedtasks.splice(index, 1);
                    }
                },
                deleteTask: function(index) {
                    if (confirm("Are you sure you want to delete this task?")) {
                        this.tasks.splice(this.tasks.indexOf(index), 1);
                    }
                },
                addTask() {

                }
            },
            data() {
                return {
                    tasks: [{
                        name: 'Покушац',
                    }, {
                        name: 'Поспац',
                    }, {
                        name: 'Погуляц',
                    }, {
                        name: 'Попиц',
                    }, {
                        name: 'Побегац',
                    }],
                    complitedtasks: []
                }
            }
        })

        app.mount('#app')
    </script>
</body>